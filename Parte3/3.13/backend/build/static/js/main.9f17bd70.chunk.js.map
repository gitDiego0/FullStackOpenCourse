{"version":3,"sources":["services/persons.js","index.js"],"names":["baseUrl","axios","get","newObject","post","id","put","delete","App","useState","persons","setPersons","personsFiltered","setPersonsFiltered","newName","setNewName","newNumber","setNewNumber","success","setSuccess","show","setShow","useEffect","personsService","then","response","data","catch","err","console","log","message","checkIfExists","find","elem","name","onChange","event","filter","el","toLowerCase","indexOf","target","value","className","onSubmit","preventDefault","element","number","alert","length","type","map","onClick","window","confirm","handleRemove","ReactDOM","render","document","getElementById"],"mappings":"gLACMA,EAAU,eAkBD,EAhBA,WACb,OAAOC,IAAMC,IAAIF,IAeJ,EAZA,SAACG,GACd,OAAOF,IAAMG,KAAKJ,EAASG,IAWd,EARA,SAACE,EAAIF,GAClB,OAAOF,IAAMK,IAAN,UAAaN,EAAb,YAAwBK,GAAMF,IAOxB,EAJA,SAACE,GACd,OAAOJ,IAAMM,OAAN,UAAgBP,EAAhB,YAA2BK,K,eCX9BG,EAAM,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTC,EADS,KACAC,EADA,OAE8BF,mBAAS,IAFvC,mBAETG,EAFS,KAEQC,EAFR,OAIcJ,mBAAS,IAJvB,mBAITK,EAJS,KAIAC,EAJA,OAKkBN,mBAAS,IAL3B,mBAKTO,EALS,KAKEC,EALF,OAOcR,oBAAS,GAPvB,mBAOTS,EAPS,KAOAC,EAPA,OAQQV,oBAAS,GARjB,mBAQTW,EARS,KAQHC,EARG,KAUhBC,qBAAU,WACRD,GAAQ,GACRE,IAEGC,MAAK,SAACC,GAAD,OAAcd,EAAWc,EAASC,SACvCC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,EAAIG,cACjC,IAEHT,qBAAU,WACRT,EAAmBH,KAClB,CAACA,IAEJ,IAyCMsB,EAAgB,WACpB,OAAOtB,EAAQuB,MAAK,SAACC,GAAD,OAAUA,EAAKC,OAASrB,MAa9C,OACE,gCACE,2CAEA,2CACU,uBAAOsB,SAfN,SAACC,GACd,OAAOxB,EACLH,EAAQ4B,QAAO,SAAUC,GACvB,OACEA,EAAGJ,KAAKK,cAAcC,QAAQJ,EAAMK,OAAOC,MAAMH,gBAAkB,SAWjC,OAGtC,8BACE,2CAEF,qBAAKI,UAAWxB,EAAQF,EAAU,UAAY,QAAW,OAAzD,SACGA,EAAO,oDAEV,uBAAM2B,SArDM,SAACR,GACfA,EAAMS,iBACN,IAAMC,EAAUf,IACXe,EASHxB,EACUwB,EAAQ1C,GAAI,CAAE8B,KAAMrB,EAASkC,OAAQhC,IAC5CQ,MAAK,WACJ,OAAOyB,MAAM,qBAEdtB,OAAM,SAACC,GACNC,QAAQC,IAAIF,EAAIG,SAChBZ,GAAW,GACXE,GAAQ,OAhBZE,EAAsB,CACpBY,KAAMrB,EACNkC,OAAQhC,EACRX,GAAIK,EAAQwC,OAAS,IAEvB/B,GAAW,GACXE,GAAQ,KA2CR,UACE,yCACQ,uBAAOsB,MAAO7B,EAASsB,SAvEZ,SAACC,GACxBtB,EAAWsB,EAAMK,OAAOC,aAwEpB,2CACU,uBAAOA,MAAO3B,EAAWoB,SAtEd,SAACC,GAC1BpB,EAAaoB,EAAMK,OAAOC,aAuEtB,8BACE,wBAAQQ,KAAK,SAAb,sBAGJ,yCACCvC,EAAgBwC,KAAI,YAA2B,IAAxBjB,EAAuB,EAAvBA,KAAMa,EAAiB,EAAjBA,OAAQ3C,EAAS,EAATA,GACpC,OACE,gCACE,iCACG8B,EADH,MACYa,IADDb,GAGX,wBAAQkB,QAAS,kBA/EN,SAAChD,GAChBiD,OAAOC,QAAQ,2CACjBhC,EAAsBlB,GAAIsB,OAAM,SAACC,GAC/BC,QAAQC,IAAIF,EAAIG,YA4EWyB,CAAanD,IAApC,sBAJQA,UAYpBoD,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.9f17bd70.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = (newObject) => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst remove = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default {\n  getAll: getAll,\n  create: create,\n  update: update,\n  remove: remove,\n}\n","import ReactDOM from 'react-dom'\nimport React, { useEffect, useState } from 'react'\nimport personsService from './services/persons'\nimport './styles/styles.css'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [personsFiltered, setPersonsFiltered] = useState([])\n\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n\n  const [success, setSuccess] = useState(false)\n  const [show, setShow] = useState(false)\n\n  useEffect(() => {\n    setShow(false)\n    personsService\n      .getAll()\n      .then((response) => setPersons(response.data))\n      .catch((err) => console.log(err.message))\n  }, [])\n\n  useEffect(() => {\n    setPersonsFiltered(persons)\n  }, [persons])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleRemove = (id) => {\n    if (window.confirm('Do you really want remove this person?')) {\n      personsService.remove(id).catch((err) => {\n        console.log(err.message)\n      })\n    }\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    const element = checkIfExists()\n    if (!element) {\n      personsService.create({\n        name: newName,\n        number: newNumber,\n        id: persons.length + 1,\n      })\n      setSuccess(true)\n      setShow(true)\n    } else {\n      personsService\n        .update(element.id, { name: newName, number: newNumber })\n        .then(() => {\n          return alert('Person updated')\n        })\n        .catch((err) => {\n          console.log(err.message)\n          setSuccess(false)\n          setShow(true)\n        })\n    }\n  }\n\n  const checkIfExists = () => {\n    return persons.find((elem) => elem.name === newName)\n  }\n\n  const filter = (event) => {\n    return setPersonsFiltered(\n      persons.filter(function (el) {\n        return (\n          el.name.toLowerCase().indexOf(event.target.value.toLowerCase()) > -1\n        )\n      })\n    )\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <div>\n        filter: <input onChange={filter} />{' '}\n      </div>\n\n      <div>\n        <h2>add new</h2>\n      </div>\n      <div className={show ? (success ? 'success' : 'error') : 'none'}>\n        {success ? `Person added correctly` : `Person doesn't exists `}\n      </div>\n      <form onSubmit={addName}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      {personsFiltered.map(({ name, number, id }) => {\n        return (\n          <div key={id}>\n            <span key={name}>\n              {name} - {number}\n            </span>\n            <button onClick={() => handleRemove(id)}>Delete</button>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}