(this["webpackJsonp2.7"]=this["webpackJsonp2.7"]||[]).push([[0],{39:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(3),r=n(16),o=n.n(r),s=n(2),u=n(4),a=n.n(u),i="/api/persons",j=function(){return a.a.get(i)},b=function(e){return a.a.post(i,e)},d=function(e,t){return a.a.put("".concat(i,"/").concat(e),t)},l=function(e){return a.a.delete("".concat(i,"/").concat(e))},f=(n(39),n(0)),O=function(){var e=Object(s.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],o=Object(s.useState)([]),u=Object(c.a)(o,2),a=u[0],i=u[1],O=Object(s.useState)(""),h=Object(c.a)(O,2),m=h[0],x=h[1],v=Object(s.useState)(""),p=Object(c.a)(v,2),g=p[0],w=p[1],S=Object(s.useState)(!1),C=Object(c.a)(S,2),y=C[0],k=C[1],P=Object(s.useState)(!1),D=Object(c.a)(P,2),E=D[0],J=D[1];Object(s.useEffect)((function(){J(!1),j().then((function(e){return r(e.data)})).catch((function(e){return console.log(e.message)}))}),[]),Object(s.useEffect)((function(){i(n)}),[n]);var L=function(){return n.find((function(e){return e.name===m}))};return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Phonebook"}),Object(f.jsxs)("div",{children:["filter: ",Object(f.jsx)("input",{onChange:function(e){return i(n.filter((function(t){return t.name.toLowerCase().indexOf(e.target.value.toLowerCase())>-1})))}})," "]}),Object(f.jsx)("div",{children:Object(f.jsx)("h2",{children:"add new"})}),Object(f.jsx)("div",{className:E?y?"success":"error":"none",children:y?"Person added correctly":"Person doesn't exists "}),Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=L();t?d(t.id,{name:m,number:g}).then((function(){return alert("Person updated")})).catch((function(e){console.log(e.message),k(!1),J(!0)})):(b({name:m,number:g,id:n.length+1}),k(!0),J(!0))},children:[Object(f.jsxs)("div",{children:["name: ",Object(f.jsx)("input",{value:m,onChange:function(e){x(e.target.value)}})]}),Object(f.jsxs)("div",{children:["number: ",Object(f.jsx)("input",{value:g,onChange:function(e){w(e.target.value)}})]}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{type:"submit",children:"add"})})]}),Object(f.jsx)("h2",{children:"Numbers"}),a.map((function(e){var t=e.name,n=e.number,c=e.id;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("span",{children:[t," - ",n]},t),Object(f.jsx)("button",{onClick:function(){return function(e){window.confirm("Do you really want remove this person?")&&l(e).catch((function(e){console.log(e.message)}))}(c)},children:"Delete"})]},c)}))]})};o.a.render(Object(f.jsx)(O,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.9f17bd70.chunk.js.map